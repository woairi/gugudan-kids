# gugudan-kids 개발 로그

배포: https://gugudan-kids.vercel.app/

## 2026-02-28

### 완료
- 프로젝트 스캐폴딩: Next.js(App Router) + TypeScript + Tailwind + ESLint
- 페이지 라우팅 뼈대 추가: `/`, `/learn`, `/quiz`, `/result`, `/collection`, `/parents`
- 퀴즈(MVP v0)
  - 단 선택(0~9단)
  - 10문제 세션
  - 4지선다 객관식
  - 선택 즉시 채점(정답/오답 즉시 표시)
  - 중복 채점 방지
- 결과(MVP v0)
  - localStorage에 마지막 세션 결과 저장/표시
  - 다시하기(`/quiz`), 학습하기(`/learn`) 이동

### 결정사항
- 퀴즈 기본 진입: **단 선택 후 시작**
- 오답 처리: **즉시 정답 표시**

### 다음 할 일
- Learn: 단 선택 → 해당 단(0~9까지) 표/카드 실제 표시
- 칭찬/격려 문구 세트(20개 정도) + 랜덤 출력
- 기록 확장: 최근 N회 기록 + 오늘 통계
- UX: 버튼 최소 60px 타겟 유지, 과한 애니메이션/사운드 금지

### 2026-02-28 (추가)
- Learn(MVP v0)
  - 단 선택(0~9단)
  - 선택한 단의 0~9 곱셈 표 렌더링
  - 단별 간단 팁 문구

### 2026-02-28 (추가)
- Quiz 개선
  - Learn에서 선택한 단을 `?dan=`으로 전달하여 퀴즈에서 자동 선택
  - 칭찬/격려 문구 랜덤 출력
  - 최근 결과 10개 저장(localStorage) + 결과 화면에서 최근 5개 표시

### 2026-02-28 (추가)
- 약한 문제 모드(MVP v0)
  - 문제별 시도/오답 통계 localStorage 저장(`gugudan.itemStats.v1`)
  - 퀴즈 시작 시 "약한 문제" 선택 가능(해당 단에서 오답률 높은 문제 우선)

### 2026-02-28 (추가)
- 결과 화면 개선
  - 세션 오답노트 표시(최대 5개)
  - 오답이 있으면 해당 단으로 다시 연습하기 버튼 제공

### 2026-02-28 (추가)
- 보상/스티커(MVP v0)
  - 퀴즈 완료 시 스티커(배지) 언락(localStorage: `gugudan.rewards.v1`)
  - 기본 배지: 첫 퀴즈, 만점, 0~9단 마스터
  - `/collection`에서 잠금/획득 상태 표시

### 2026-02-28 (추가)
- P0 Fix
  - Learn → Quiz 링크에서 선택한 단(dan) 전달 버그 수정

### 2026-02-28 (추가)
- P0 Fix
  - 퀴즈 종료(finalize) 중복 실행 방지(idempotency 가드 + 최근기록 중복 방지)

### 2026-02-28 (추가)
- P1 개선
  - localStorage 데이터 런타임 검증(손상/타입 불일치 시 안전하게 기본값 처리)

### 2026-02-28 (추가)
- UX 개선
  - 홈 화면에서 보호자 설정은 2초 롱프레스(꾹 누르기)로 진입(오터치 방지)

### 2026-02-28 (추가)
- UX 개선
  - 결과 화면 "오답노트" → "다시 풀어볼 문제"로 문구 변경

### 2026-02-28 (추가)
- UX 개선
  - 최근 기록을 퍼센트 대신 표정(😄/🙂)으로 단순화

### 2026-02-28 (추가)
- P0 Fix
  - `/quiz?dan=7` 진입 시 단이 확실히 자동 선택되도록 쿼리 파라미터 적용 로직 개선(window.location)

### 2026-02-28 (추가)
- UX 개선
  - 스티커(컬렉션) 잠김 상태 문구/표현을 더 직관적으로 개선(🔒, 흐리게 표시)

### 2026-02-28 (추가)
- UX 개선
  - 퀴즈 시작 전 안내 문구를 더 친근하게(아이 입장) 정리

### 2026-02-28 (추가)
- UX 개선
  - 결과 화면 용어를 더 쉬운 말로 변경(정답률→맞춘 비율, 평균 시간→평균 속도)

### 2026-02-28 (추가)
- UX 개선
  - Learn → Quiz 진입 전 브릿지(확인) 팝업 추가(아이 혼란 방지)

### 2026-02-28 (추가)
- UX 개선
  - 스티커(컬렉션) 잠김 카드에 실루엣/빈칸 느낌 강화(점선 테두리 + 🔒 배지)

### 2026-02-28 (추가)
- UX 개선
  - 퀴즈 진행 중 홈으로 나가기 시 확인(나가면 처음부터)

### 2026-02-28 (추가)
- 기능 추가
  - 보호자 설정에서 데이터 초기화(기록/통계/스티커 리셋)

### 2026-02-28 (추가)
- UX 개선
  - 퀴즈 오답 색상 톤 다운(빨강 → 노랑/주황 계열)

### 2026-02-28 (추가)
- UX 개선
  - 결과 화면에서 퍼센트 강조를 줄이고 별(🌟)로 더 직관적으로 표시
  - "다시 풀어볼 문제" 박스 색상도 부드럽게 조정

### 2026-02-28 (추가)
- UX 개선
  - 컬렉션에서 획득 카드 표현을 더 귀엽게(✨ 받았어!, 축하 문구)

### 2026-02-28 (추가)
- UX 개선
  - 문구 톤을 초2 친화적 반말로 조금 더 통일(퀴즈 안내 문구 등)

### 2026-02-28 (추가)
- 기능 추가
  - 보호자 설정: 사운드 ON/OFF(기본 OFF), 문제 수 10/20 선택
  - 퀴즈: 설정된 문제 수를 사용
  - 사운드: 정답/오답 간단 비프음(WebAudio)

### 2026-02-28 (추가)
- 기능 추가
  - 퀴즈 이어서 하기: 진행 중 세션을 localStorage에 저장하고 다음에 이어서 진행

### 2026-02-28 (추가)
- 기능 개선
  - 이어서 하기 세션은 24시간 지나면 자동으로 무시(만료)

### 2026-02-28 (추가)
- 기능 개선
  - 이어서 하기 세션 저장 로직을 안정화(상태 변화에 따라 스냅샷 저장, 중복/스테일 상태 감소)

### 2026-02-28 (추가)
- 기능 개선
  - 홈에서 "이어서 하기" CTA 표시(진행 중 퀴즈가 있을 때)

### 2026-02-28 (추가)
- UX 개선
  - "약한 문제" 모드 설명 문구를 더 직관적으로 개선

### 2026-02-28 (추가)
- UX 개선
  - 퀴즈 "이어서 하기" 카드에 진행도 표시(예: 3/10)
  - "새로 시작"은 새로고침 없이 즉시 초기화

### 2026-02-28 (추가)
- 기능/안정성 개선
  - 이어서 하기 세션 삭제는 localStorage removeItem으로 처리(깔끔)
  - 보호자 초기화 후 홈으로 이동(화면 반영 명확)

### 2026-02-28 (추가)
- UX 개선
  - 보호자 설정 변경 시 "저장됐어!" 짧은 알림 표시

### 2026-02-28 (추가)
- 기능 추가
  - 보호자 설정: 난이도(곱하는 수 0~9 vs 0~12)
  - 퀴즈: 설정된 난이도(maxRight)로 문제 생성

### 2026-02-28 (추가)
- UX/품질 개선
  - 칭찬/격려 문구 확장
  - 문구는 채점 시점에 한 번만 결정(화면 깜빡임/랜덤 재굴림 방지)

### 2026-02-28 (추가)
- 기능 추가
  - 학습 화면: 랜덤 한 줄 복습(뽑기 버튼)

### 2026-02-28 (추가)
- 버그 수정
  - 보호자 설정 화면에 난이도(0~9/0~12) 섹션이 누락된 문제 수정

### 2026-03-01
- P0
  - 보호자 초기화에 activeSession 키 포함(이어서 하기 CTA가 남는 문제 방지)

### 2026-03-01 (추가)
- P0 정책 정리
  - "이어서 하기"는 진행 중 세션을 그대로 이어서 진행(설정값보다 세션값 우선)
  - "새로 시작"은 activeSession을 지우고 최신 보호자 설정(문제수/난이도/사운드)을 적용

### 2026-03-01
- P1
  - 오늘 기록 누적(localStorage) + 홈에서 오늘 푼 문제/맞은 개수 표시

### 2026-03-01
- P1
  - 학습 화면 힌트 문구 보강(0/1/2/5/9단)

### 2026-03-01
- P1
  - 약한 문제 모드: 데이터가 거의 없을 때 안내 문구 추가

### 2026-03-01
- P1
  - 약한 문제 모드 튜닝: 최소 시도횟수(MIN_ATTEMPTS) 기준 + 안 풀어본 문제 일부 섞기

### 2026-03-01
- P1
  - 약한 문제 모드: 데이터가 없으면 자동으로 랜덤(단 퀴즈)로 전환

### 2026-03-01
- P1
  - 홈 "오늘 기록" 카드 개선(목표 표시 + 별 피드백)

### 2026-03-01
- P2
  - README 정리(기능/개발/배포/localStorage 키 목록)

### 2026-03-01
- P2
  - localStorage 키 상수 통합(KEYS)
  - 결과 타입(LastResult/WrongItem) 통합(shared)

### 2026-03-01
- P2-4
  - 홈 "오늘 기록" 카드 문구 단순화 + 목표 달성 축하(별/표정 중심)

### 2026-03-01
- P2-5
  - 보호자 "모두 지우기"는 2초 롱프레스로 보호(오터치 방지)

### 2026-03-01
- P2-6
  - 실기기 QA 체크리스트 문서 추가

### 2026-03-01
- UI
  - 홈에서 "오늘 기록" 카드와 "학습하기" 카드 간격 늘림(여백/간격 조정)

### 2026-03-01
- UX
  - 퀴즈 시작 화면에 "소리 확인" 버튼 추가(사운드 ON일 때만)

### 2026-03-01
- 기능
  - 스티커: 올클리어 배지 추가(0~9단 마스터 모두 모으면 언락)

### 2026-03-01
- 기능
  - 결과 화면에서 "틀린 문제만 다시 풀기" 버튼 추가(quiz mistakes 모드)

### 2026-03-01
- UX
  - mistakes 모드(틀린 문제 다시 풀기) 제목/설명 문구 개선
  - 결과 화면에 "랜덤으로 퀴즈풀기" CTA 추가

### 2026-03-01
- 기능
  - 배지: "오늘 목표 달성(10문제)" 1회 언락 배지 추가
